:root {
    --chart-width: 50rem;
    --chart-height: 37.5rem;

    --editor-connector: visible;
    --editor-add: visible;
    --editor-remove: hidden;
    
    --connector-opacity: 1;
    --add-opacity: 1;
}

/* container */
#flowchart {
    position: relative;
    background-color: var(--bg-col);
    border-radius: 15px;

    width: var(--chart-width);
    height: var(--chart-height);
}
#flowchart-container {
    display: inline-block;
    position: relative;
    top: 50%;
    left: 50%;
    width: 800px;
    color: var(--dark-col);
}
#flowchart-container > * {
    position: absolute;
    transform: translate(-50%, -50%);
    user-select: none;
}

#remove-task {
    position: absolute;
    margin: 10px;
    left: 0;
    bottom: 0;
    opacity: calc(1 - var(--connector-opacity));
    cursor: pointer;
}

/* task */
.flow-task {  
    position: absolute;

    border: 0.25em solid;
    border-radius: 0.5em;
    border-top: none;
    border-left: none;
    border-top-right-radius: 0;
    border-bottom-left-radius: 0;

    box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.15), 3px 3px 10px 0 rgba(0, 0, 0, 0.125);
    
    color: black;
    font-size: 0.75em;
    font-family: 'Montserrat';
    font-weight: bold;
    text-align: center;
    max-width: 130px;
    
    background-color: var(--bg-col);
    padding: 7px 5px;
    z-index: 2;
}
.editor-connector, .editor-add, .editor-remove {
    opacity: 0;
    cursor: pointer;
    position: absolute;
    border: 2px solid;
    border-radius: 50%;
    background-color: var(--main-col);

    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    transform: translate(-50%, -50%);
}
.editor-connector {
    z-index: 3;
}
.editor-add, .editor-remove {
    z-index: 4;
}
.flow-task:hover > .editor-connector {
    opacity: calc(var(--connector-opacity) * 0.7);
}
.flow-task:hover > .editor-add {
    opacity: calc(calc(1 - var(--connector-opacity)) * var(--add-opacity));
}
.flow-task:hover > .editor-remove {
    opacity: calc(calc(1 - var(--connector-opacity)) * calc(1 - var(--add-opacity)));
}
.editor-add::before, .editor-remove::before {
    position: absolute;
    transform: translate(-7px, 10px);
}

/* start end */
.flow-start {
    position: absolute;
    border: 0.125em solid;
    border-radius: 50%;
    background-color: var(--bg-col);

    padding: 6px;
    cursor: pointer;
    z-index: 2;

    box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.15), 3px 3px 10px 0 rgba(0, 0, 0, 0.125);
}
.flow-end {
    position: absolute;
    border: 6px double;
    border-radius: 50%;
    background-color: var(--bg-col);

    padding: 6px;
    z-index: 2;
}

/* line */
.line {
    position: absolute;
    border: 1px solid;
    background-color: black;
    width: 0;
    height: 0;
    z-index: 1;
}
.caret-up, .caret-right, .caret-down, .caret-left {
    position: absolute;
    z-index: 1;
}
#flowchart-container .caret-up {
    transform: translate(-50%, calc(-50% + 4px));
}
#flowchart-container .caret-right {
    transform: translate(calc(-50% - 3px), -50%);
}
#flowchart-container .caret-down {
    transform: translate(-50%, calc(-50% - 3px));
}
#flowchart-container .caret-left {
    transform: translate(calc(-50% + 2px), -50%);
}

/* sync-line */
.sync-line {
    position: absolute;
    border-radius: 0.25em;
    background-color: black;
    height: 0.25em;
    z-index: 1;
}

/* cook-line */
.cook-line {
    position: absolute;
    border: 0.06125em dashed;
    color: black;
    z-index: 1;
}

/* crossing */
.crossing {
    position: absolute;
    z-index: 1;
}

/* cook-title */
.cook-title {
    font-size: 0.75rem;
    font-weight: bold;
}